<head>
    <title>Business Website</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"> </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"> </script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
</head>



<div class="modal fade" data-backdrop="false" id="shareEvent" style="zoom: 120%;">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">

            <!-- Modal Header -->
            <div class="modal-header">
                <h4 style="font-size:20px;">Share Event</h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>

            <!-- Modal body -->
            <div class="modal-body">
                <textarea name="to" [(ngModel)]='to'
                    placeholder="Enter list of Emails you want to share like (abc@gmail.com, def@gmail.com...)" rows="5"
                    cols="70" style="border-radius:20px;"></textarea>
            </div>


            <div class="modal-footer">
                <button (click)="shareEvent()" data-dismiss="modal" class="btn1" style="height:35px; border-radius:5px;">
                    <p>Share</p>
                </button>

            </div>

        </div>
    </div>
</div>


<div class="modal fade" data-backdrop="false" id="rateProf" style="zoom: 120%;">
    <div class="modal-dialog modal-lg">
        <div class="modal-content" style="width:500px;">

            <!-- Modal Header -->
            <div class="modal-header">
                <h4 style="font-size:20px;">Rate Professional</h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>

            <!-- Modal body -->
            <div class="modal-body">


                <div *ngFor="let prof of eventProfs">
                    <p style="font-size:20px;"> {{prof.professionalName}} </p>
                    <p style="font-size:20px;"> {{prof.serviceType}} </p>
                    <p style="font-size:20px;"> {{prof.serviceName}} </p>
                    <br><br>

                    <h6 class="text-primary" style="color:white; font-size:20px;">
                        <ngb-rating [max]="5" [(rate)]="currentRate" [readonly]="false" style="zoom:150%">
                        </ngb-rating>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        <button (click)="addRating(prof.professionalId, currentRate)" class="btn1" 
                            style="height:35px; border-radius:5px;">
                            <p>Rate</p>
                        </button>

                    </h6>
                </div>

            </div>



            <div class="modal-footer">
                <button (click)="submit()" data-dismiss="modal" class="btn1" style="height:35px; border-radius:5px;">
                    <p>Done</p>
                </button>

            </div>

        </div>
    </div>
</div>

<br><br><br>
<div style="background-image: url('/assets/img/abs1.jpg'); min-height:896px; height:auto;">
    <section class="py-5 header">

        <div class="container py-4">


            <div class="row">
                <div class="col-md-3" style="width: 400px; margin-left:-140px; zoom:160%">
                    <!-- Tabs nav -->

                    <div class="nav flex-column nav-pills nav-pills-custom" id="v-pills-tab" role="tablist"
                        aria-orientation="vertical">
                        <br>
                        <h1>Hi, {{User.userName}}</h1>
                        <a class="nav-link mb-3 p-3 shadow active" id="v-pills-home-tab" data-toggle="pill"
                            href="#v-pills-home" role="tab" aria-controls="v-pills-home" aria-selected="false">
                            <i class="fa fa-user-circle-o mr-2"></i>
                            <span class="font-weight-bold small text-uppercase">Profile</span></a>

                        <a class="nav-link mb-3 p-3 shadow" id="v-pills-settings-tab" data-toggle="pill"
                            href="#v-pills-events" role="tab" aria-controls="v-pills-events" aria-selected="false">
                            <i class="glyphicon glyphicon-folder-open mr-2"></i>
                            <span class="font-weight-bold small text-uppercase">&nbsp;My Events</span></a>

                        <a class="nav-link mb-3 p-3 shadow" id="v-pills-blog-tab" data-toggle="pill"
                            href="#v-pills-blog" role="tab" aria-controls="v-pills-settings" aria-selected="false">
                            <i class="glyphicon glyphicon-pencil mr-2"></i>
                            <span class="font-weight-bold small text-uppercase">&nbsp;My Blogs</span></a>


                        <a class="nav-link mb-3 p-3 shadow" id="v-pills-profile-tab" data-toggle="pill"
                            href="#v-pills-profile" role="tab" aria-controls="v-pills-profile" aria-selected="false">
                            <i class="fa fa-calendar-minus-o mr-2"></i>
                            <span class="font-weight-bold small text-uppercase">Bookings</span></a>

                        <a class="nav-link mb-3 p-3 shadow" id="v-pills-messages-tab" data-toggle="pill"
                            href="#v-pills-messages" role="tab" aria-controls="v-pills-messages" aria-selected="false">
                            <i class="fa fa-star mr-2"></i>
                            <span class="font-weight-bold small text-uppercase">Reviews</span></a>
                        <a class="nav-link mb-3 p-3 shadow" id="v-pills-messages-tab" data-toggle="pill"
                            href="#v-pills-share" role="tab" aria-controls="v-pills-share" aria-selected="false">
                            <i class="fa fa-share-alt mr-2"></i>
                            <span class="font-weight-bold small text-uppercase">Share Event</span></a>

                        <!-- <a class="nav-link mb-3 p-3 shadow" id="v-pills-settings-tab" data-toggle="pill"
                            href="#v-pills-history" role="tab" aria-controls="v-pills-history" aria-selected="false">
                            <i class="fa fa-history mr-2"></i>
                            <span class="font-weight-bold small text-uppercase">History</span></a>


                        <a class="nav-link mb-3 p-3 shadow" id="v-pills-settings-tab" data-toggle="pill"
                            href="#v-pills-settings" role="tab" aria-controls="v-pills-settings" aria-selected="false">
                            <i class="fa fa-gear mr-2"></i>
                            <span class="font-weight-bold small text-uppercase">Settings</span></a> -->

                    </div>
                </div>


                <div class="col-md-9" style="width: 1500px;">
                    <!-- Tabs content -->
                    <br><br><br><br>
                    <div class="tab-content" id="v-pills-tabContent">

                        <div class="tab-pane fade shadow rounded bg-transparent show active p-5" id="v-pills-home"
                            role="tabpanel" aria-labelledby="v-pills-home-tab"
                            style="width: 1000px; border-radius: 20px; ">

                            <!-- The Modal -->
                            <div class="modal" id="userModel" data-backdrop="false" style="zoom: 150%;">
                                <div class="modal-dialog modal-lg">
                                    <div class="modal-content" style="width:400px;">

                                        <!-- Modal Header -->
                                        <div class="modal-header" style="width:400px;">

                                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                                        </div>

                                        <!-- Modal body -->
                                        <div class="modal-body" style="width:400px;">
                                            <h1 style="font-size:24px;">Update your profile...</h1>
                                            <form class="form-group">
                                                Enter userName :<input type="text" name="userName"
                                                    [(ngModel)]="editObject.userName" class="form-control"><br />
                                                Enter contact :<input type="text" name="contact"
                                                    [(ngModel)]="editObject.contact" class="form-control"><br />
                                                Enter emailId :<input type="email" name="emailId"
                                                    [(ngModel)]="editObject.emailId" class="form-control"><br />
                                                Enter Password : <input type="text" name="password"
                                                    [(ngModel)]="editObject.password" class="form-control"><br />

                                            </form>
                                        </div>

                                        <!-- Modal footer -->
                                        <div class="modal-footer">
                                            <button class="btn btn-primary" (click)="updateUser()" data-dismiss="modal">Update</button>
                                        </div>

                                    </div>
                                </div>
                            </div>

                            <h2 class="font-awesome mb-4">Profile</h2>
                            <br><br>


                            <div class="main-container" style="color: green">
                                <p style="font-size:20px;"><i class="fa fa-user fa-2x" aria-hidden="true"></i>
                                    {{User.userName}}</p>
                                <p style="font-size:20px;"><i class="fa fa-envelope fa-2x" aria-hidden="true"></i>
                                    {{User.emailId}}</p>
                                <p style="font-size:20px;"><i class="fa fa-phone fa-2x" aria-hidden="true"></i>
                                    {{User.contact}}</p>
                                <p style="font-size:20px;"><i class="fa fa-key fa-2x" aria-hidden="true"></i>
                                    {{User.password}}</p>
                                <hr>
                                <button class="btn btn-dark" (click)="showEditPopup(User)" class="edit-btn">Edit Profile</button>
                            </div>

                        </div>

                        <div class="tab-pane fade shadow rounded bg-transparent show active p-5" id="v-pills-events"
                            role="tabpanel" aria-labelledby="v-pills-events-tab"
                            style="width: 1000px; border-radius: 20px; background-color: transparent;">
                            <h1 style="font-size:24px;">My Events</h1>
                            <hr />
                            <br>
                            <div *ngFor='let event of myEvents'>
                                <div class="card" style="zoom:150%;">
                                    <div class="row no-gutters">
                                        <div class="col-sm-5">
                                            <img class="card-img"
                                                src="http://localhost:8080/RESTAPI/images/{{event.poster}}"
                                                alt="Suresh Dasari Card">
                                        </div>
                                        <div class="col-sm-7">
                                            <div class="card-body">
                                                <h2 class="card-title">{{event.eventName}}</h2>
                                                <p class="card-text">At {{event.venue}}</p>
                                                <h5>From {{event.eventStartDate}} to {{event.eventEndDate}}</h5>
                                                <p><button class="btn btn-danger" (click)="goToEvent(event)"
                                                        style="border-radius: 25px; width:100px;">Go to
                                                        event</button></p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <br><br>
                            </div>

                        </div>

                        <div class="tab-pane fade shadow rounded bg-transparent show active p-5" id="v-pills-blog"
                            role="tabpanel" aria-labelledby="v-pills-blog-tab"
                            style="width: 1000px; border-radius: 20px; ">
                            <h2 style="font-size:24px;">My Blogs</h2>
                            <hr />
                            <br>
                            <div *ngFor='let x of myBlogs'>

                                <div class="card" style="zoom:150%;">
                                    <div class="row no-gutters">
                                        <div class="col-sm-5">
                                            <img class="card-img"
                                                src="http://localhost:8080/RESTAPI/images/{{x.blogImage}}"
                                                alt="Suresh Dasari Card">
                                        </div>
                                        <div class="col-sm-7">
                                            <div class="card-body">
                                                <h2 class="card-title">{{x.title}}</h2>
                                                <p class="card-text"># {{x.category}}</p>
                                                <p>{{x.content | getintro}}</p>
                                                <h5>Written on {{x.blogDate | date}}</h5>
                                                <p><button class="btn btn-danger" (click)="readmore(blog)"
                                                        style="border-radius: 25px; width:100px;">Go
                                                        to
                                                        Blog</button></p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <br><br>
                            </div>
                        </div>

                        <div class="tab-pane fade shadow rounded bg-transparent p-5" id="v-pills-profile" role="tabpanel"
                            aria-labelledby="v-pills-profile-tab" style="width: 1000px; border-radius: 20px; ">
                            <h2 style="font-size:24px;">Bookings</h2>
                            <hr />
                            <br>
                            <div *ngFor='let payment of myBookedEvents'>
                                <div class="card" style="zoom:150%;">
                                    <div class="row no-gutters">
                                        <div class="col-sm-5">
                                            <img class="card-img"
                                                src="http://localhost:8080/RESTAPI/images/{{payment.event.poster}}"
                                                alt="Suresh Dasari Card">
                                        </div>
                                        <div class="col-sm-7">
                                            <div class="card-body">
                                                <h2 class="card-title">{{payment.event.eventName}}</h2>
                                                <p class="card-text">At {{payment.event.venue}}</p>
                                                <h5>From {{payment.event.eventStartDate}} to
                                                    {{payment.event.eventEndDate}}</h5>
                                                <p><button class="btn btn-danger" (click)="goToEvent(event)"
                                                        style="border-radius: 25px; width:100px;">Go to
                                                        event</button></p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <br><br>
                            </div>
                        </div>

                        <div class="tab-pane fade shadow rounded bg-transparent p-5" id="v-pills-messages" role="tabpanel"
                            aria-labelledby="v-pills-messages-tab" style="width: 1000px; border-radius: 20px; ">

                            <h2 style="font-size:24px;">Rate Professionals</h2>
                            <hr />
                            <br>
                            <div *ngFor='let event of myEvents'>
                                <div class="card" style="zoom:150%;">
                                    <div class="row no-gutters">
                                        <div class="col-sm-5">
                                            <img class="card-img"
                                                src="http://localhost:8080/RESTAPI/images/{{event.poster}}"
                                                alt="Suresh Dasari Card">
                                        </div>
                                        <div class="col-sm-7">
                                            <div class="card-body">
                                                <h2 class="card-title">{{event.eventName}}</h2>
                                                <p class="card-text">At {{event.venue}}</p>
                                                <h5>From {{event.eventStartDate}} to {{event.eventEndDate}}</h5>
                                                    <div *ngIf="calTime(event.eventEndDate | date:'dd-MM-yyyy') === true">         
                                                <p><button  class="btn btn-danger" (click)="getProfs(event.eventId)"
                                                        style="border-radius: 25px; width:100px;" data-toggle="modal"
                                                        data-target="#rateProf">
                                                        Rate professionals</button></p>
                                                    </div> 
                                                    <div *ngIf="calTime(event.eventEndDate | date:'dd-MM-yyyy') != true">   <h5>event
                                                         is not yet done, can't rate professionals</h5></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <br><br>
                            </div>

                        </div>



                        <div class="tab-pane fade shadow rounded bg-transparent p-5" id="v-pills-share" role="tabpanel"
                            aria-labelledby="v-pills-share-tab" style="width: 1000px; border-radius: 20px; ">
                            <h2 style="font-size:24px;">Share Event</h2>
                            <hr />
                            <br>
                            <div *ngFor='let event of myEvents'>
                                <div class="card" style="zoom:150%;">
                                    <div class="row no-gutters">
                                        <div class="col-sm-5">
                                            <img class="card-img"
                                                src="http://localhost:8080/RESTAPI/images/{{event.poster}}"
                                                alt="Suresh Dasari Card">
                                        </div>
                                        <div class="col-sm-7">
                                            <div class="card-body">
                                                <h2 class="card-title">{{event.eventName}}</h2>
                                                <p class="card-text">At {{event.venue}}</p>
                                                <h5>From {{event.eventStartDate}} to {{event.eventEndDate}}</h5>
                                                <p><button class="bth btn-danger" (click)="setEvent(event.eventId)"
                                                    style="border-radius: 25px; width:100px;" data-toggle="modal"
                                                    data-target="#shareEvent">
                                                    Share event</button></p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <br><br>
                            </div>

                        </div>

                        <!--  <div class="tab-pane fade shadow rounded bg-white show active p-5" id="v-pills-history"
                            role="tabpanel" aria-labelledby="v-pills-history-tab"
                            style="width: 1300px; border-radius: 20px; ">
                            <h4 class="font-italic mb-4">History</h4>
                            <p class="font-italic text-muted mb-2">Lorem ipsum dolor sit amet, consectetur adipisicing
                                elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad
                                minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
                                consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore
                                eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa
                                qui officia deserunt mollit anim id est laborum.</p>
                        </div>

                        <div class="tab-pane fade shadow rounded bg-white p-5" id="v-pills-settings" role="tabpanel"
                            aria-labelledby="v-pills-settings-tab" style="width: 1300px; border-radius: 20px; ">
                            <h4 class="font-italic mb-4">Settings</h4>
                            <p class="font-italic text-muted mb-2">Lorem ipsum dolor sit amet, consectetur adipisicing
                                elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad
                                minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
                                consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore
                                eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa
                                qui officia deserunt mollit anim id est laborum.</p>
                        </div>-->
                    </div>
                </div>
            </div>
        </div>
    </section>
    <br><br><br><br>
</div>
